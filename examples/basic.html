<!doctype HTML>
<html>
<head>
	<title>Basic Example</title>
	
	<script src="../lib/tiny.js"></script>
	<script src="../lib/plugins.js"></script>
	<script src="../lib/pack.js"></script>

	<style type="text/css">
	body { margin: 0; }	
	</style>
</head>
<body>

<script type="text/javascript" src="resources.js"> </script>

<script type="text/javascript"src="tests.js"> </script>

<script type="text/javascript">

	var TESTS = [ ]

	function pushTest(test, game) {
		var Test = {
			preload: function(  ) {
				
			},
			create: function(  ) {
				
			},
			update: function(  time, delta ) {
				
			},
			resize: function(  width, height ) {
				
			}
		}

		Object.assign(Test, test)

		Test.game = game

		Object.assign(test, Test)

		TESTS.push(test)

	}

	var GameIndex = {
		init: function() {
			const game = new Tiny(window.innerWidth, window.innerHeight, null, true, {
				preload: function() {
					for (var i = 0; i < TESTS.length; i++) {
						TESTS[i].preload()
					}
					console.log("Preloaded")
				},
				create: function() {
					for (var i = 0; i < TESTS.length; i++) {
						TESTS[i].create()
					}
					console.log("Created")
				},
				update: function(time, delta) {
					for (var i = 0; i < TESTS.length; i++) {
						TESTS[i].update(time, delta)
					}
				},
				resize: function(width, height) {
					console.log("Resized: ", width, height)
					for (var i = 0; i < TESTS.length; i++) {
						TESTS[i].resize(width, height)
					}
				}
			});

			window.addEventListener("resize", function(argument) {
				game.resize(window.innerWidth, window.innerHeight)
			})

			pushTest(BaseTest, game)
			pushTest(EmitterTest, game)
			pushTest(AnimatedSpriteSheetTest, game)
			pushTest(GraphicsTest, game)
			pushTest(InputTest, game)
			pushTest(DragAndDropTest, game)



			game.callbackContext = this
			window.game = game
		}
		
	}

GameIndex.init()

</script>
</body>
</html>