!function(t){function e(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,i){var s=i(1),n=function(t,e,i,n,o){this.ui=t,this.x=void 0!==e?e:0,this.y=void 0!==i?i:0,this.width=void 0!==n?n:0,this.height=void 0!==o?o:0,this.rotation=0,this.alpha=1,this.visible=!0,this.pivot={x:.5,y:.5},this.anchor={x:s.left,y:s.top},this.smoothing=!0,this.stretch={x:!1,y:!1},this.scale={x:1,y:1},this.offset={left:0,top:0,right:0,bottom:0},this.parent=void 0};n.prototype.getBounds=function(){var t=this.determinePositionInCanvas(),e=this.determineDimensionsInCanvas();return{x:t.x,y:t.y,width:e.width,height:e.height}},n.prototype.getParentBounds=function(){if(void 0===this.parent)return{x:0,y:0,width:this.ui.width,height:this.ui.height};if(this.parent instanceof n)return this.parent.getBounds();throw new Error("DisplayObject.parent should always be an instance of DisplayObject")},n.prototype.determinePositionInCanvas=function(){var t={x:"number"==typeof this.x?this.x:0,y:"number"==typeof this.y?this.y:0};if(this.stretch.x||this.stretch.y){var e=this.getParentBounds(),i=this.getOffsetInCanvas();this.stretch.x&&(t.x=e.x+i.left),this.stretch.y&&(t.y=e.y+i.top)}return t=this.adjustPositionForAnchor(t.x,t.y),t=this.adjustPositionForPivot(t.x,t.y)},n.prototype.determineDimensionsInCanvas=function(){var t={width:"number"==typeof this.width?this.width:0,height:"number"==typeof this.height?this.height:0};if(this.stretch.x||this.stretch.y){var e=this.getParentBounds(),i=this.getOffsetInCanvas();this.stretch.x&&(t.width=e.width-i.left-i.right),this.stretch.y&&(t.height=e.height-i.top-i.bottom)}return t},n.prototype.adjustPositionForAnchor=function(t,e){var i=this.getParentBounds();return this.stretch.x||(this.anchor.x===s.left?t=i.x+t:this.anchor.x===s.right?t=i.x+i.width-t:this.anchor.x===s.center&&(t=i.x+.5*i.width+t)),this.stretch.y||(this.anchor.y===s.top?e=i.y+e:this.anchor.y===s.bottom?e=i.y+i.height-e:this.anchor.y===s.center&&(e=i.y+.5*i.height+e)),{x:t,y:e}},n.prototype.getOffsetInCanvas=function(){for(var t,e={left:this.offset.left,top:this.offset.top,right:this.offset.right,bottom:this.offset.bottom},i=Object.keys(e),s=i.length,n=0;n<s;n++){var o=i[n],h=e[o];if("number"!=typeof h){t=t||this.getParentBounds();var r=parseFloat(h.match(/^([0-9\.]+)%$/)[1]);e[o]=r/100*t.width}}return e},n.prototype.adjustPositionForPivot=function(t,e){return t-=this.width*this.pivot.x,e-=this.height*this.pivot.y,{x:t,y:e}},n.prototype.shouldReceiveEvents=function(){return this.visible},n.prototype.onClick=function(t){this.ui.addEventListener("click",t,this)},n.prototype.render=function(t){if(this.visible){t.save();var e,i=this.getBounds();if((this.rotation||1!=this.scale.x||1!=this.scale.y)&&(e=this.adjustPositionForPivot(0,0)),this.rotation){var s=Math.PI/180*this.rotation,n=i.x-e.x,o=i.y-e.y;t.translate(n,o),t.rotate(s),t.translate(-n,-o)}if(1!=this.scale.x||1!=this.scale.y){var h=(-i.x+e.x)*(this.scale.x-1),r=(-i.y+e.y)*(this.scale.y-1);t.translate(h,r),t.scale(this.scale.x,this.scale.y)}t.globalAlpha=this.alpha,void 0!==t.mozImageSmoothingEnabled&&(t.mozImageSmoothingEnabled=this.smoothing),void 0!==t.webkitImageSmoothingEnabled&&(t.webkitImageSmoothingEnabled=this.smoothing),void 0!==t.msImageSmoothingEnabled&&(t.msImageSmoothingEnabled=this.smoothing),void 0!==t.imageSmoothingEnabled&&(t.imageSmoothingEnabled=this.smoothing),this.draw(t,i.x,i.y,i.width,i.height),t.restore()}},n.draw=function(t,e,i,s,n){},Object.defineProperty(n.prototype,"_proxied_visible",{get:function(){return!(this.parent&&this.parent!==this&&!this.parent.visible)&&this._visible},set:function(t){return this._visible=t}}),t.exports=n},function(t,e){t.exports={center:1,left:2,right:3,top:4,bottom:5}},function(t,e){var i={};i.maxConcurrency=1/0,i.assetProgress={},i.loadedAssets={},i.queue=[],i.queueIdx=0,i.loader={},i.load=function(t){i.asyncQueue(i.queue,function(){i.queue=[],i.assetProgress={},"function"==typeof t&&t()})},i.queueNext=function(){i.queueIdx++},i.done=function(t,e){i.loadedAssets[t]=e,i.updateAssetProgress(t,1,1)},i.push=function(t){void 0===i.queue[i.queueIdx]&&(i.queue[i.queueIdx]=[]),i.queue[i.queueIdx].push(t)},i.progressListener=null,i.getProgress=function(){if(i.queue.length<=0)return 1;var t=0;Object.keys(i.assetProgress).forEach(function(e){t+=i.assetProgress[e]});var e=0;return i.queue.forEach(function(t){e+=t.length}),t/e},i.updateAssetProgress=function(t,e,s){if(!(1===i.assetProgress[t]||s<e||s<=0)){var n=1;void 0!==e&&void 0!==s&&(n=e/s),i.assetProgress[t]=n,"function"==typeof i.progressListener&&i.progressListener(i.getProgress())}},i.getAssetById=function(t){return i.loadedAssets[t]},i.asyncQueue=function(t,e){var s=t.slice(),n=function(){var t=s.shift();i.asyncCollection(t,function(){s.length>0?n():e()})};n()},i.asyncCollection=function(t,e){var t=t.slice(),s=Math.min(i.maxConcurrency,t.length),n=function(i){i(function(){s--,t.length>0?(s++,n(t.shift())):0===s&&e()})};t.splice(0,i.maxConcurrency).forEach(n)},i.add=function(t){var e=t.split(".").pop();if("png"===e)i.add.image(t);else if("json"===e)i.add.json(t);else{if("css"!==e)throw new Error("Unsupported file-type ("+e+") passed to AssetLoader.add.");i.add.css(t)}},i.add.image=function(t){i.push(function(e){var s=new Image;s.onload=function(){i.done(t,s),i.updateAssetProgress(t,1,1),e()},s.src=t})},i.add.webFont=function(t,e){i.add.css(e);var s=document.createElement("div");s.innerText="Loading "+t,s.style.fontFamily=t,s.style.width=0,s.style.height=0,s.style.overflow="hidden",document.body.appendChild(s)},i.add.json=function(t){i.push(function(e){n(t,function(s){i.done(t,s),e()})})},i.add.script=function(t){i.push(function(e){i.loader.script(t,function(){i.done(t,t),e()})})},i.loader.script=function(t,e){var i=document.createElement("script");i.src=t,i.onload=e,document.head.appendChild(i)},i.add.css=function(t){i.push(function(e){var s=document.createElement("link");s.type="text/css",s.rel="stylesheet",s.href=t,s.onload=function(){i.done(t,s),e()},document.head.appendChild(s)})};var s=function(t,e){var s=new XMLHttpRequest;s.open("GET",t,!0);var n=function(){4===s.readyState&&(e(s.response||s.responseText),s.onload=null,s.onreadystatechange=null)};s.onload=n,s.onreadystatechange=n,s.onprogress=function(e){i.updateAssetProgress(t,e.loaded,e.total)},s.onerror=function(t){throw new Error("Error during XHR: "+t)},s.send()},n=function(t,e){s(t,function(t){e(JSON.parse(t))})};t.exports=i,window.AssetLoader=i},function(t,e,i){var s=i(1),n=i(8),o=i(10),h=i(11),r=i(9),a=i(5),c=i(6),d=i(7),u=i(12).isFirefox,l=["x","y","width","height","rotation","alpha","visible","pivot","anchor","smoothing","stretch","offset","scale","parent","textAlign","assetPath","color","left","right","up","down","ActiveInvoke","value"],p=function(t,e){l.forEach(function(i){var s="_proxied_"+i;t[s]=t[i],Object.defineProperty(t,i,{set:function(n){t[i]!==n&&(e.shouldReDraw=!0),t[s]=n},get:function(){return t[s]}})})},f=function(t,e){this.displayObjects=[],this.eventListeners={click:[]},this.clearRect=null,this.parentNode=e||document.body,this.canvas=document.createElement("canvas"),this.height=t||720,this.context=this.canvas.getContext("2d"),this.shouldReDraw=!0,this.addCanvasToDom(),this.resize(window.innerWidth,window.innerHeight),window.addEventListener("touchend",this.clickHandler.bind(this)),u?window.addEventListener("click",this.clickHandler.bind(this)):window.addEventListener("mousedown",this.clickHandler.bind(this))};f.anchors=s,f.prototype.addCanvasToDom=function(){this.parentNode.appendChild(this.canvas),this.canvas.style.position="absolute",this.canvas.style.top="0px",this.canvas.style.left="0px",this.canvas.style.zIndex=1,this.canvas.style.transformOrigin="0% 0%",this.canvas.style.perspective="1000px"},f.prototype.resize=function(t,e){var i=t/e;this.width=this.height*i,this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px",this.shouldReDraw=!0},f.prototype.draw=function(){if(this.shouldReDraw){this.clearRect?this.context.clearRect(this.clearRect.x,this.clearRect.y,this.clearRect.width,this.clearRect.height):this.context.clearRect(0,0,this.canvas.width,this.canvas.height);for(var t=this,e=this.displayObjects.length,i=0;i<e;i++)this.displayObjects[i].render(t.context);this.shouldReDraw=!1}},f.prototype.render=function(t){this.draw(),this.colorReplace&&(this.context.save(),this.context.fillStyle=this.colorReplace,this.context.globalCompositeOperation="hue",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.restore())},f.prototype.createSprite=function(t,e,i,s,n){var h=new o(this,t,e,i,s,n);return this.displayObjects.push(h),p(h,this),h},f.prototype.createSpriteFromSheet=function(t,e,i,s,n,h,r){var a=new o(this,t,s,n,h,r,e,i);return this.displayObjects.push(a),p(a,this),a},f.prototype.createImageText=function(t,e,i,s,n){var o=new d(this,t,e,i,s,n);return this.displayObjects.push(o),p(o,this),o},f.prototype.createRectangle=function(t,e,i,s,o){var h=new n(this,t,e,i,s,o);return this.displayObjects.push(h),p(h,this),h},f.prototype.createCircularProgress=function(t,e,i,s,n,o){var h=new c(this,t,e,i,s,n,o);return this.displayObjects.push(h),p(h,this),h},f.prototype.createRoundRectangle=function(t,e,i,s,n,o){var h=new r(this,t,e,i,s,n,o);return this.displayObjects.push(h),p(h,this),h},f.prototype.createCircle=function(t,e,i,s){var n=new a(this,t,e,i,s);return this.displayObjects.push(n),p(n,this),n},f.prototype.createText=function(t,e,i,s,n){var o=new h(this,t,e,i,s,n);return this.displayObjects.push(o),p(o,this),o},f.prototype.createBitmapText=function(t,e,i,s,n,o){var h=new BitmapText(this,t,e,i,s,n,o);return this.displayObjects.push(h),p(h,this),h},f.prototype.addEventListener=function(t,e,i){this.eventListeners[t].push({callback:e,displayObject:i})},f.prototype.clickHandler=function(t){var e=null;if("undefined"!=typeof TouchEvent&&t instanceof TouchEvent?(this.listeningToTouchEvents=!0,t.touches.length>0?e={x:t.touches[0].pageX,y:t.touches[0].pageY}:t.pageX&&t.pageY?e={x:t.pageX,y:t.pageY}:this.listeningToTouchEvents=!1):e={x:t.pageX,y:t.pageY},!(this.listeningToTouchEvents&&t instanceof MouseEvent||null===e)){e=this.windowToUISpace(e.x,e.y);var i=[];this.eventListeners.click.forEach(function(t){var s=t.displayObject;if(s.shouldReceiveEvents()){var n=s.getBounds();f.isInBoundingBox(e.x,e.y,n.x,n.y,n.width,n.height)&&i.push(t.callback)}}),i.forEach(function(t){t()})}},f.prototype.windowToUISpace=function(t,e){var i=this.canvas.getBoundingClientRect(),s=this.height/i.height;return{x:(t-i.left)*s,y:(e-i.top)*s}},f.prototype.moveToFront=function(t){var e=this.displayObjects.indexOf(t);e>-1&&this.displayObjects.splice(e,1),this.displayObjects.push(t)},f.isInBoundingBox=function(t,e,i,s,n,o){return t>=i&&t<=i+n&&e>=s&&e<=s+o},t.exports=f,window.Tiny=f},function(t,e,i){i(3),i(2)},function(t,e,i){var s=i(0),n=function(t,e,i,n,o){this.color=e;var i=void 0!==i?i:0,n=void 0!==n?n:0;this._radius=void 0!==o?o:1,s.bind(this)(t,i,n,2*o,2*o)};n.prototype=Object.create(s.prototype),Object.defineProperty(n.prototype,"radius",{get:function(){return this._radius},set:function(t){return this.width=2*t,this.height=2*t,this._radius=t}}),n.prototype.draw=function(t,e,i,s,n){t.fillStyle=this.color,t.beginPath(),t.arc(e+s/2,i+n/2,this.radius,0,2*Math.PI),t.fill()},t.exports=n},function(t,e,i){var s=i(0),n=function(t,e,i,n,o,h,r){this.color=e,this.bg_color=i,this.value=0,this.circleStart=0;var n=void 0!==n?n:0,o=void 0!==o?o:0;this._radius=void 0!==h?h:1,this.line_width=void 0!==r?r:1,s.bind(this)(t,n,o,2*h,2*h)};n.prototype=Object.create(s.prototype),Object.defineProperty(n.prototype,"radius",{get:function(){return this._radius},set:function(t){return this.width=this.height=2*t+this.line_width,this._radius=t}}),n.prototype.draw=function(t,e,i,s,n){var o=-1.57+this.circleStart;t.beginPath(),t.arc(e+s/2,i+n/2,this.radius,o,4*Math.PI,!1),t.strokeStyle=this.bg_color,t.lineWidth=this.line_width,t.stroke(),t.beginPath(),t.strokeStyle=this.color,t.lineWidth=this.line_width,t.arc(e+s/2,i+n/2,this.radius,o,o+this.value/50*Math.PI,!1),t.stroke()},t.exports=n},function(t,e,i){var s=i(0),n=function(t,e,i,n,o,h){var e=void 0!==e?e:0,i=void 0!==i?i:0;this.textAlign="center",this.textBaseline="middle",this._fontWeight="normal",this._text=void 0!==n?n:"",this._size=void 0!==o?o:12,this.font="undefined"!=typeof font?font:"Arial",this._color=void 0!==h?h:"#000000",this._lineHeight=1,this.strokeThickness=1,this.stroke=void 0,this._canvas=document.createElement("canvas"),this.__ui=t,this.setText(),s.bind(this)(t,e,i,this.width,this.height)};n.prototype=Object.create(s.prototype),["fontWeight","text","size","color","lineHeight"].forEach(function(t){var e="_"+t;Object.defineProperty(n.prototype,t,{get:function(){return this[e]},set:function(t){this[e]!=t&&(this.__ui.shouldReDraw=!0),this[e]=t,this.setText()}})}),n.prototype.setText=function(){var t=this.size+"px "+this.font;"normal"!==this._fontWeight&&(t=this._fontWeight+" "+t);var e=this._canvas.getContext("2d");e.clearRect(0,0,this._canvas.width,this._canvas.height),e.textAlign=this.textAlign,e.textBaseline=this.textBaseline,e.font=t;var i=e.measureText(this._text);this.width=this._canvas.width=i.width+20,this.height=this._canvas.height=1.5*this.size+10,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline,e.font=t,e.fillStyle=this.color,e.miterLimit=2,e.fillText(this._text,this._canvas.width/2,this._canvas.height/2)},n.prototype.draw=function(t,e,i,s,n){t.drawImage(this._canvas,e,i,s,n)},t.exports=n},function(t,e,i){var s=i(0),n=function(t,e,i,n,o,h){this.color=e;var i=void 0!==i?i:0,n=void 0!==n?n:0,o=void 0!==o?o:1,h=void 0!==h?h:1;s.bind(this)(t,i,n,o,h)};n.prototype=Object.create(s.prototype),n.prototype.draw=function(t,e,i,s,n){t.fillStyle=this.color,t.fillRect(e,i,s,n)},t.exports=n},function(t,e,i){var s=i(0),n=function(t,e,i,n,o,h,r){this.color=e;var i=void 0!==i?i:0,n=void 0!==n?n:0,o=void 0!==o?o:1,h=void 0!==h?h:1;this.radius=void 0!==r?r:1,s.bind(this)(t,i,n,o,h)};n.prototype=Object.create(s.prototype),n.prototype.draw=function(t,e,i,s,n){t.strokeStyle=this.color,t.fillStyle=this.color,t.lineJoin="round",t.lineWidth=this.radius,t.strokeRect(e+this.radius/2,i+this.radius/2,s-this.radius,n-this.radius),t.fillRect(e+this.radius/2,i+this.radius/2,s-this.radius,n-this.radius)},t.exports=n},function(t,e,i){var s=i(0),n=function(t,e,i,n,o,h,r,a){this.setAssetPath(e,r,a);var i=void 0!==i?i:0,n=void 0!==n?n:0,o=void 0!==o?o:null,h=void 0!==h?h:null;this.asset&&(o=null!==o?o:this.asset.width,h=null!==h?h:this.asset.height),s.bind(this)(t,i,n,o,h)};n.prototype=Object.create(s.prototype),n.prototype.draw=function(t,e,i,s,n){this.sheet&&this.sheetImageData||t.drawImage(this.asset,e,i,s,n)},n.prototype.setAssetPath=function(t,e,i){this.assetPath=t,void 0!==e||this.sheet||(this.asset=AssetLoader.getAssetById(t),this.sheet=null)},t.exports=n},function(t,e,i){var s=i(0),n=function(t,e,i,n,o,h,r){this.textAlign="left",this.textBaseline="alphabetic",this.fontWeight="normal",this.text=void 0!==e?e:"",this.size=void 0!==i?i:12,this.font=void 0!==n?n:"Arial",this.color=void 0!==o?o:"#000000",this.lineHeight=1,this.strokeThickness=1,this.stroke=void 0;var h=void 0!==h?h:0,r=void 0!==r?r:0;s.bind(this)(t,h,r)};n.prototype=Object.create(s.prototype),n.prototype.draw=function(t,e,i){t.font=this.size+"px "+this.font,"normal"!==this.fontWeight&&(t.font=this.fontWeight+" "+t.font),t.miterLimit=2,t.fillStyle=this.color,t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeThickness);var s=this.text.split("\n"),n=0;"center"===this.textVerticalAlign?n=s.length/2-.5:"bottom"===this.textVerticalAlign&&(n=s.length-1);for(var o=0;o<s.length;o++){var h=s[o],r=i+(o-n)*(this.size*this.lineHeight);this.stroke&&t.strokeText(h,e,r),t.fillText(h,e,r)}},t.exports=n},function(t,e){var i=function(){return/firefox/i.test(navigator.userAgent)}();t.exports={isFirefox:i}}]);